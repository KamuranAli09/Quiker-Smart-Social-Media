<!doctype html>
<html xmlns:th="https://www.thymeleaf.org/"
	th:replace="NormalUser/base::layout(~{::section})">
<head>
<!-- Required meta tags -->
<meta charset="utf-8">
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">

<!-- Bootstrap CSS -->
<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
	integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
	crossorigin="anonymous">
</head>
<body>
	<section
		style="height: 100%; background: radial-gradient(circle, skyblue 5%, white 95%);">
		<div class="vh-100"
			style="background: radial-gradient(circle, skyblue 5%, white 95%); background: cover; margin-bottom: 100px">
			<div class="container py-5 h-100">
				<div
					class="row d-flex justify-content-center align-items-center h-100">
					<div class="col-md-12 col-xl-4">

						<div class="card" style="border-radius: 15px;">
							<div class="card-body text-center">
								<div class="mt-3 mb-4">
									<img th:if="${user.img == null}" src="../Images/profile.png"
										class="rounded-circle img-fluid"
										style=" margin-bottom: 0.1px;">
									<img th:if="${user.img != null}"
										th:src="@{'../ProfilePhotos/' + ${user.img}}"
										class="rounded-circle img-fluid "
										style=" height:150px;width:150px;object-fit: cover; margin-bottom: 0.1px;">
								</div>
								<h4 class="mb-2" th:text="${user.name}"></h4>
								<p class="text-muted mb-4">
									@<span th:text="${user.username}"></span>
								</p>
								<p th:if="${user.img == null}" class="text-muted mb-4">Update your bio</p>
								<p th:if="${user.img != null}" class="text-muted mb-4" th:text="${user.bio}"></p>
								<div>




									<!-- Button trigger modal -->
									<button type="button"
										class="btn btn-primary btn-rounded btn-lg" data-toggle="modal"
										data-target="#exampleModal">Edit Profile</button>

									<!-- Modal -->
									<div class="modal fade" id="exampleModal" tabindex="-1"
										role="dialog" aria-labelledby="exampleModalLabel"
										aria-hidden="true">
										<div class="modal-dialog" role="document">
											<div class="modal-content">
												<div class="modal-header">
													<h5 class="modal-title" id="exampleModalLabel">Edit
														Profile</h5>
													<button type="button" class="close" data-dismiss="modal"
														aria-label="Close">
														<span aria-hidden="true">&times;</span>
													</button>
												</div>
												<div class="modal-body">
													<form novalidate th:action="@{/user/update}" method="post"
														th:object="${user}" enctype="multipart/form-data">
														<div class="form-group">
															<input type="text" class="form-control"
																id="exampleInputEmail1" aria-describedby="emailHelp"
																placeholder="" name="name" th:value="${user.name}">
															<small id="emailHelp" class="form-text text-muted"></small>
														</div>
														<div class="form-group">
															<input th:value="${user.username}" readonly type="text"
																class="form-control" name="username"
																id="exampleInputPassword1"
																placeholder="Change your username ?">
														</div>
														<div class="form-group">
															<input type="email" name="email" th:value="${user.email}"
																class="form-control" id="exampleInputEmail1" readonly
																aria-describedby="emailHelp" placeholder="Change email">
														</div>
														<div class="form-group">
															<input th:value="${user.bio}" name="bio" type="text"
																class="form-control" id="exampleInputPassword1"
																placeholder="Add Bio ?">
														</div>
														<div class="form-group">
															<input type="text" class="form-control"
																name="phonenumber" id="exampleInputEmail1"
																th:value="${user.phonenumber}" readonly
																aria-describedby="emailHelp"
																placeholder="Change your phone number">
														</div>
														<div class="form-group">
															<label for="exampleFormControlFile1">Change
																Profile Picture</label> <input type="file"
																class="form-control-file" name="dp"
																id="exampleFormControlFile1">
														</div>
														<div class="form-group">
															<input th:value="${user.password}" type="hidden"
																class="form-control-file" name="password"
																id="exampleFormControlFile1">
														</div>
														<div class="form-group">
															<input style="display: none" th:value="${user.id}"
																type="hidden" class="form-control-file" name="id"
																id="exampleFormControlFile1">
														</div>



														<div class="modal-footer">
															<button type="button" class="btn btn-secondary"
																data-dismiss="modal">Close</button>
															<button type="Submit" class="btn btn-primary">Save
																changes</button>
														</div>
													</form>
												</div>
											</div>
										</div>
									</div>
								</div>
								<div
									class="d-flex justify-content-between text-center mt-5 mb-2">
									<div>
										<p class="mb-2 h5">0</p>
										<p class="text-muted mb-0">Followers</p>
									</div>
									<div class="px-3">
										<p class="mb-2 h5">0</p>
										<p class="text-muted mb-0">Posts</p>
									</div>
									<div>
										<p class="mb-2 h5" th:text="${user.id}">4751</p>
										<p class="text-muted mb-0">User Id</p>
									</div>
								</div>
							</div>
						</div>

					</div>
				</div>
			</div>
		</div>
	</section>
</body>
</html>
